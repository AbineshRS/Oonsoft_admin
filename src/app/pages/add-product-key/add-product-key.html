<div class="fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4">
  <div class="bg-white shadow-lg rounded-xl w-full max-w-3xl relative max-h-[90vh] overflow-y-auto p-8">
    <h2 class="text-2xl font-bold mb-6 text-gray-800 border-b pb-2">Add Product key</h2>

    <form [formGroup]="productForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data" class="space-y-6">

      <!-- Form Fields Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label for="digital_key" class="block text-sm font-medium text-gray-700 mb-1">Product Key</label>
          <input id="digital_key" type="text" formControlName="digital_key" placeholder="Product Key"
            class="border p-2 w-full rounded focus:outline-none focus:ring-2 focus:ring-blue-400" />
          <div *ngIf="productForm.get('digital_key')?.touched && productForm.get('digital_key')?.invalid"
            class="text-red-600 text-sm mt-1">Key is required</div>
        </div>

        <!-- Description -->
        <div>
          <label for="url" class="block text-sm font-medium text-gray-700 mb-1">Url</label>
          <input id="url" type="text" formControlName="url" placeholder="url"
            class="border p-2 w-full rounded focus:outline-none focus:ring-2 focus:ring-blue-400" />
          <div *ngIf="productForm.get('url')?.touched && productForm.get('url')?.invalid"
            class="text-red-600 text-sm mt-1">url is required</div>
        </div>


      </div>

      <!-- Buttons -->
      <div class="flex justify-end gap-4 pt-4 border-t mt-8">
        <button type="button" class="bg-gray-500 text-white px-5 py-2 rounded hover:bg-gray-600"
          (click)="close()">Cancel</button>
        <button type="submit" [disabled]="loading"
          class="bg-blue-600 text-white px-5 py-2 rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2">
          <!-- Spinner -->
          <svg *ngIf="loading" class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none"
            viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path>
          </svg>

          <span>{{ loading ? 'Sending...' : 'Send' }}</span>
        </button>
      </div>

      <!-- Error Message -->
      <div *ngIf="errorMsg" class="text-red-600 mt-4 font-semibold">
        {{ errorMsg }}
      </div>
    </form>
  </div>
</div>